type List a =
    | Nil {}
    | Cons { head : a, tail : List a }
end

fun length(xs): do
    case xs of
        | Nil {} -> 0
        | Cons { head = _, tail = rest } -> do
            let res = add(1, length(rest))
            res
        end
    end
end

fun main(): do
    ffi("console.log", length(Cons { head = 1, tail = Cons { head = 2, tail = Nil {} } }))
end
